<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Structures  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Structures" class="dashAnchor"></a>

    <a title="Structures  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          NIO Docs
        </a>
         (86% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/apple/swift-nio">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">NIO Reference</a>
      <img class="carat" src="img/carat.png" />
      Structures  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/AcceptBackoffHandler.html">AcceptBackoffHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BackPressureHandler.html">BackPressureHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BlockingIOThreadPool.html">BlockingIOThreadPool</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BlockingIOThreadPool/WorkItemState.html">– WorkItemState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChannelHandlerContext.html">ChannelHandlerContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChannelPipeline.html">ChannelPipeline</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ClientBootstrap.html">ClientBootstrap</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DatagramBootstrap.html">DatagramBootstrap</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/EmbeddedChannel.html">EmbeddedChannel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/EmbeddedEventLoop.html">EmbeddedEventLoop</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/EventLoopFuture.html">EventLoopFuture</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FileHandle.html">FileHandle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/IdleStateHandler.html">IdleStateHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/IdleStateHandler/IdleStateEvent.html">– IdleStateEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MultiThreadedEventLoopGroup.html">MultiThreadedEventLoopGroup</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NIONetworkInterface.html">NIONetworkInterface</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/RepeatedTask.html">RepeatedTask</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ServerBootstrap.html">ServerBootstrap</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AllocatorOption.html">AllocatorOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AllowRemoteHalfClosureOption.html">AllowRemoteHalfClosureOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AutoReadOption.html">AutoReadOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/BacklogOption.html">BacklogOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChannelError.html">ChannelError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChannelEvent.html">ChannelEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChannelLifecycleError.html">ChannelLifecycleError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChannelPipelineError.html">ChannelPipelineError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CloseMode.html">CloseMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ConnectTimeoutOption.html">ConnectTimeoutOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/DecodingState.html">DecodingState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Endianness.html">Endianness</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/EventLoopError.html">EventLoopError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/IOData.html">IOData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/IOEvent.html">IOEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/IOResult.html">IOResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MaxMessagesPerReadOption.html">MaxMessagesPerReadOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/MulticastError.html">MulticastError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/RecvAllocatorOption.html">RecvAllocatorOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddress.html">SocketAddress</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddress/IPv4Address.html">– IPv4Address</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddress/IPv6Address.html">– IPv6Address</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddress/UnixSocketAddress.html">– UnixSocketAddress</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddressError.html">SocketAddressError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketOption.html">SocketOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/System.html">System</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/WriteBufferWaterMarkOption.html">WriteBufferWaterMarkOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/WriteSpinOption.html">WriteSpinOption</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/BaseSocketChannel.html">BaseSocketChannel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/DatagramChannel.html">DatagramChannel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/EmbeddedScheduledTask.html">EmbeddedScheduledTask</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/FixedWidthInteger.html">FixedWidthInteger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Heap.html">Heap</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/LinuxCPUSet.html">LinuxCPUSet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/PriorityQueue.html">PriorityQueue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/PriorityQueue/Iterator.html">– Iterator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/ScheduledTask.html">ScheduledTask</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Slice.html">Slice</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/StaticString.html">StaticString</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Thread.html">Thread</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UInt32.html">UInt32</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UnsafeBufferPointer.html">UnsafeBufferPointer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UnsafeMutableBufferPointer.html">UnsafeMutableBufferPointer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UnsafeMutableRawBufferPointer.html">UnsafeMutableRawBufferPointer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UnsafeMutableRawBufferPointer.html">UnsafeMutableRawBufferPointer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UnsafeMutableRawPointer.html">UnsafeMutableRawPointer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UnsafeRawBufferPointer.html">UnsafeRawBufferPointer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UnsafeRawBufferPointer.html">UnsafeRawBufferPointer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AppendableCollection.html">AppendableCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ByteToMessageDecoder.html">ByteToMessageDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Channel.html">Channel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelCore.html">ChannelCore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelHandler.html">ChannelHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelInboundInvoker.html">ChannelInboundInvoker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols.html#/s:3NIO14ChannelInvokerP">ChannelInvoker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelOption.html">ChannelOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelOutboundInvoker.html">ChannelOutboundInvoker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ContiguousCollection.html">ContiguousCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EventLoop.html">EventLoop</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EventLoopGroup.html">EventLoopGroup</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FileDescriptor.html">FileDescriptor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MessageToByteEncoder.html">MessageToByteEncoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MulticastChannel.html">MulticastChannel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RecvByteBufferAllocator.html">RecvByteBufferAllocator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Resolver.html">Resolver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SocketOptionProvider.html">SocketOptionProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/_ChannelInboundHandler.html">_ChannelInboundHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/_ChannelOutboundHandler.html">_ChannelOutboundHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/_EmittingChannelHandler.html">_EmittingChannelHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AdaptiveRecvByteBufferAllocator.html">AdaptiveRecvByteBufferAllocator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AddressedEnvelope.html">AddressedEnvelope</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ByteBuffer.html">ByteBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ByteBufferAllocator.html">ByteBufferAllocator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ByteBufferView.html">ByteBufferView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChannelOptions.html">ChannelOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChannelShouldQuiesceEvent.html">ChannelShouldQuiesceEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CircularBuffer.html">CircularBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/EventLoopIterator.html">EventLoopIterator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/EventLoopPromise.html">EventLoopPromise</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/FileRegion.html">FileRegion</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/FixedSizeRecvByteBufferAllocator.html">FixedSizeRecvByteBufferAllocator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IOError.html">IOError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IOError/FailureDescription.html">– FailureDescription</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MarkedCircularBuffer.html">MarkedCircularBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOAny.html">NIOAny</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOCompositeError.html">NIOCompositeError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOConnectionError.html">NIOConnectionError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NonBlockingFileIO.html">NonBlockingFileIO</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NonBlockingFileIO/Error.html">– Error</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Scheduled.html">Scheduled</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SingleConnectionFailure.html">SingleConnectionFailure</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ThreadSpecificVariable.html">ThreadSpecificVariable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TimeAmount.html">TimeAmount</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/WriteBufferWaterMark.html">WriteBufferWaterMark</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:3NIO20ChannelDuplexHandlera">ChannelDuplexHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:3NIO8IOVectora">IOVector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/SocketOptionLevel">SocketOptionLevel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:3NIO17SocketOptionLevela">SocketOptionLevel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:3NIO16SocketOptionNamea">SocketOptionName</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/SocketOptionValue">SocketOptionValue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:3NIO17SocketOptionValuea">SocketOptionValue</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>Structures</h1>
            <p>The following structures are available globally.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO17AddressedEnvelopeV"></a>
                    <a name="//apple_ref/swift/Struct/AddressedEnvelope" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO17AddressedEnvelopeV">AddressedEnvelope</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A data structure for processing addressed datagrams, such as those used by UDP.</p>

<p>The AddressedEnvelope is used extensively on <code>DatagramChannel</code>s in order to keep track
of source or destination address metadata: that is, where some data came from or where
it is going.</p>

                        <a href="Structs/AddressedEnvelope.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">AddressedEnvelope</span><span class="o">&lt;</span><span class="kt">DataType</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO10ByteBufferV"></a>
                    <a name="//apple_ref/swift/Struct/ByteBuffer" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO10ByteBufferV">ByteBuffer</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>ByteBuffer</code> stores contiguously allocated raw bytes. It is a random and sequential accessible sequence of zero or
more bytes (octets).</p>
<h3 id='allocation' class='heading'>Allocation</h3>

<p>Use <code>allocator.buffer(capacity: desiredCapacity)</code> to allocate a new <code>ByteBuffer</code>.</p>
<h3 id='supported-types' class='heading'>Supported types</h3>

<p>A variety of types can be read/written from/to a <code>ByteBuffer</code>. Using Swift&rsquo;s <code>extension</code> mechanism you can easily
create <code>ByteBuffer</code> support for your own data types. Out of the box, <code>ByteBuffer</code> supports for example the following
types (non-exhaustive list):</p>

<ul>
<li><code>String</code>/<code>StaticString</code></li>
<li>Swift&rsquo;s various (unsigned) integer types</li>
<li><code>Foundation</code>&lsquo;s <code>Data</code></li>
<li><code>[UInt8]</code> and generally any <code>Collection</code> (&amp; <code><a href="Protocols/ContiguousCollection.html">ContiguousCollection</a></code>) of <code>UInt8</code></li>
</ul>
<h3 id='random-access' class='heading'>Random Access</h3>

<p>For every supported type <code>ByteBuffer</code> usually contains two methods for random access:</p>

<ol>
<li><code>get&lt;type&gt;(at: Int, length: Int)</code> where <code>&lt;type&gt;</code> is for example <code>String</code>, <code>Data</code>, <code>Bytes</code> (for <code>[UInt8]</code>)</li>
<li><code>set(&lt;type&gt;: Type, at: Int)</code></li>
</ol>

<p>Example:</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">buf</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">buf</span><span class="o">.</span><span class="nf">set</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span> <span class="nv">at</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">helloWorld</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="nf">getString</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">length</span><span class="p">:</span> <span class="mi">11</span><span class="p">)</span>

<span class="n">buf</span><span class="o">.</span><span class="nf">set</span><span class="p">(</span><span class="nv">integer</span><span class="p">:</span> <span class="mi">17</span> <span class="k">as</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">at</span><span class="p">:</span> <span class="mi">11</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">seventeen</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="nf">getInteger</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="mi">11</span><span class="p">)</span>
</code></pre>

<p>If needed, <code>ByteBuffer</code> will automatically resize its storage to accommodate your <code>set</code> request.</p>
<h3 id='sequential-access' class='heading'>Sequential Access</h3>

<p><code>ByteBuffer</code> provides two properties which are indices into the <code>ByteBuffer</code> to support sequential access:</p>

<ul>
<li><code>readerIndex</code>, the index of the next readable byte</li>
<li><code>writerIndex</code>, the index of the next byte to write</li>
</ul>

<p>For every supported type <code>ByteBuffer</code> usually contains two methods for sequential access:</p>

<ol>
<li><code>read&lt;type&gt;(length: Int)</code> to read <code>length</code> bytes from the current <code>readerIndex</code> (and then advance the reader index by <code>length</code> bytes)</li>
<li><code>write(&lt;type&gt;: Type)</code> to write, advancing the <code>writerIndex</code> by the appropriate amount</li>
</ol>

<p>Example:</p>
<pre class="highlight swift"><code> <span class="k">var</span> <span class="nv">buf</span> <span class="o">=</span> <span class="o">...</span>
 <span class="n">buf</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">)</span>
 <span class="n">buf</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="nv">integer</span><span class="p">:</span> <span class="mi">17</span> <span class="k">as</span> <span class="kt">Int</span><span class="p">)</span>
 <span class="k">let</span> <span class="nv">helloWorld</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="nf">readString</span><span class="p">(</span><span class="nv">length</span><span class="p">:</span> <span class="mi">11</span><span class="p">)</span>
 <span class="k">let</span> <span class="nv">seventeen</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="nf">readInteger</span><span class="p">()</span>
</code></pre>
<h3 id='layout' class='heading'>Layout</h3>
<pre class="highlight swift"><code><span class="o">+-------------------+------------------+------------------+</span>
<span class="o">|</span> <span class="n">discardable</span> <span class="n">bytes</span> <span class="o">|</span>  <span class="n">readable</span> <span class="n">bytes</span>  <span class="o">|</span>  <span class="n">writable</span> <span class="n">bytes</span>  <span class="o">|</span>
<span class="o">|</span>                   <span class="o">|</span>     <span class="p">(</span><span class="kt">CONTENT</span><span class="p">)</span>    <span class="o">|</span>                  <span class="o">|</span>
<span class="o">+-------------------+------------------+------------------+</span>
<span class="o">|</span>                   <span class="o">|</span>                  <span class="o">|</span>                  <span class="o">|</span>
<span class="mi">0</span>      <span class="o">&lt;=</span>      <span class="n">readerIndex</span>   <span class="o">&lt;=</span>   <span class="n">writerIndex</span>    <span class="o">&lt;=</span>    <span class="n">capacity</span>
</code></pre>

<p>The &#39;discardable bytes&rsquo; are usually bytes that have already been read, they can however still be accessed using
the random access methods. &lsquo;Readable bytes&rsquo; are the bytes currently available to be read using the sequential
access interface (<code>read&lt;Type&gt;</code>/<code>write&lt;Type&gt;</code>). Getting <code>writableBytes</code> (bytes beyond the writer index) is undefined
behaviour and might yield arbitrary bytes (<em>not</em> <code>0</code> initialised).</p>
<h3 id='slicing' class='heading'>Slicing</h3>

<p><code>ByteBuffer</code> supports slicing a <code>ByteBuffer</code> without copying the underlying storage.</p>

<p>Example:</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">buf</span> <span class="o">=</span> <span class="o">...</span>
<span class="k">let</span> <span class="nv">dataBytes</span><span class="p">:</span> <span class="p">[</span><span class="kt">UInt8</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mh">0xca</span><span class="p">,</span> <span class="mh">0xfe</span><span class="p">,</span> <span class="mh">0xba</span><span class="p">,</span> <span class="mh">0xbe</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">dataBytesLength</span> <span class="o">=</span> <span class="kt">UInt32</span><span class="p">(</span><span class="n">dataBytes</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
<span class="n">buf</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="nv">integer</span><span class="p">:</span> <span class="n">dataBytesLength</span><span class="p">)</span> <span class="cm">/* the header */</span>
<span class="n">buf</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="nv">bytes</span><span class="p">:</span> <span class="n">dataBytes</span><span class="p">)</span> <span class="cm">/* the data */</span>
<span class="k">let</span> <span class="nv">bufDataBytesOnly</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="nf">getSlice</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">length</span><span class="p">:</span> <span class="n">dataBytes</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
<span class="cm">/* `bufDataByteOnly` and `buf` will share their storage */</span>
</code></pre>
<h3 id='important-usage-notes' class='heading'>Important usage notes</h3>

<p>Each method that is prefixed with <code>get</code> is considered <q>unsafe</q> as it allows the user to read uninitialized memory if the <code>index</code> or <code>index + length</code> points outside of the previous written
range of the <code>ByteBuffer</code>. Because of this it&rsquo;s strongly advised to prefer the usage of methods that start with the <code>read</code> prefix and only use the <code>get</code> prefixed methods if there is a strong reason
for doing so. In any case, if you use the <code>get</code> prefixed methods you are responsible for ensuring that you do not reach into uninitialized memory by taking the <code>readableBytes</code> and <code>readerIndex</code> into
account, and ensuring that you have previously written into the area covered by the <code>index</code> itself.</p>

                        <a href="Structs/ByteBuffer.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ByteBuffer</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO19ByteBufferAllocatorV"></a>
                    <a name="//apple_ref/swift/Struct/ByteBufferAllocator" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO19ByteBufferAllocatorV">ByteBufferAllocator</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The preferred allocator for <code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code> values. The allocation strategy is opaque but is currently libc&rsquo;s
<code>malloc</code>, <code>realloc</code> and <code>free</code>.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <code>ByteBufferAllocator</code> is thread-safe.

</div>

                        <a href="Structs/ByteBufferAllocator.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ByteBufferAllocator</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO14ByteBufferViewV"></a>
                    <a name="//apple_ref/swift/Struct/ByteBufferView" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO14ByteBufferViewV">ByteBufferView</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A read-only view into a portion of a <code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code>.</p>

<p>A <code>ByteBufferView</code> is useful whenever a <code>Collection where Element == UInt8</code> representing a portion of a
<code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code> is needed.</p>

                        <a href="Structs/ByteBufferView.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ByteBufferView</span> <span class="p">:</span> <span class="kt"><a href="Protocols/ContiguousCollection.html">ContiguousCollection</a></span><span class="p">,</span> <span class="kt">RandomAccessCollection</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO25ChannelShouldQuiesceEventV"></a>
                    <a name="//apple_ref/swift/Struct/ChannelShouldQuiesceEvent" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO25ChannelShouldQuiesceEventV">ChannelShouldQuiesceEvent</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code><a href="Protocols/Channel.html">Channel</a></code> user event that is sent when the <code><a href="Protocols/Channel.html">Channel</a></code> has been asked to quiesce.</p>

<p>The action(s) that should be taken after receiving this event are both application and protocol dependent. If the
protocol supports a notion of requests and responses, it might make sense to stop accepting new requests but finish
processing the request currently in flight.</p>

                        <a href="Structs/ChannelShouldQuiesceEvent.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ChannelShouldQuiesceEvent</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO20WriteBufferWaterMarkV"></a>
                    <a name="//apple_ref/swift/Struct/WriteBufferWaterMark" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO20WriteBufferWaterMarkV">WriteBufferWaterMark</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The watermark used to detect when <code><a href="Protocols/Channel.html#/s:3NIO7ChannelP10isWritableSbvp">Channel.isWritable</a></code> returns <code>true</code> or <code>false</code>.</p>

                        <a href="Structs/WriteBufferWaterMark.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">WriteBufferWaterMark</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO14ChannelOptionsV"></a>
                    <a name="//apple_ref/swift/Struct/ChannelOptions" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO14ChannelOptionsV">ChannelOptions</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Provides <code><a href="Protocols/ChannelOption.html">ChannelOption</a></code>s to be used with a <code><a href="Protocols/Channel.html">Channel</a></code>, <code>Bootstrap</code> or <code><a href="Classes/ServerBootstrap.html">ServerBootstrap</a></code>.</p>

                        <a href="Structs/ChannelOptions.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ChannelOptions</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO14CircularBufferV"></a>
                    <a name="//apple_ref/swift/Struct/CircularBuffer" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO14CircularBufferV">CircularBuffer</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An automatically expanding ring buffer implementation backed by a <code>ContiguousArray</code>. Even though this implementation
will automatically expand if more elements than <code>initialRingCapacity</code> are stored, it&rsquo;s advantageous to prevent
expansions from happening frequently. Expansions will always force an allocation and a copy to happen.</p>

                        <a href="Structs/CircularBuffer.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">CircularBuffer</span><span class="o">&lt;</span><span class="kt">E</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">CustomStringConvertible</span><span class="p">,</span> <span class="kt"><a href="Protocols/AppendableCollection.html">AppendableCollection</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO17NIOCompositeErrorV"></a>
                    <a name="//apple_ref/swift/Struct/NIOCompositeError" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO17NIOCompositeErrorV">NIOCompositeError</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An <code>Error</code> that represents multiple errors that occurred during an operation.</p>

<p>Because SwiftNIO frequently does multiple jobs at once, it is possible some operations out
of a set of operations may fail. This is most noticeable with <code>Channel.flush</code> on the
<code>DatagramChannel</code>, where some, but not all, of the datagram writes may fail. In this case
the <code>flush</code> should accurately represent that set of possibilities. The <code>NIOCompositeError</code>
is an attempt to do so.</p>

                        <a href="Structs/NIOCompositeError.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">NIOCompositeError</span> <span class="p">:</span> <span class="kt">Error</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO9ScheduledV"></a>
                    <a name="//apple_ref/swift/Struct/Scheduled" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO9ScheduledV">Scheduled</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returned once a task was scheduled on the <code><a href="Protocols/EventLoop.html">EventLoop</a></code> for later execution.</p>

<p>A <code>Scheduled</code> allows the user to either <code>cancel()</code> the execution of the scheduled task (if possible) or obtain a reference to the <code><a href="Classes/EventLoopFuture.html">EventLoopFuture</a></code> that
will be notified once the execution is complete.</p>

                        <a href="Structs/Scheduled.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Scheduled</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO17EventLoopIteratorV"></a>
                    <a name="//apple_ref/swift/Struct/EventLoopIterator" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO17EventLoopIteratorV">EventLoopIterator</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An iterator over the <code><a href="Protocols/EventLoop.html">EventLoop</a></code>s forming an <code><a href="Protocols/EventLoopGroup.html">EventLoopGroup</a></code>.</p>

<p>Usually returned by an <code><a href="Protocols/EventLoopGroup.html">EventLoopGroup</a></code>&lsquo;s <code>makeIterator()</code> method.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">group</span> <span class="o">=</span> <span class="kt">MultiThreadedEventLoopGroup</span><span class="p">(</span><span class="nv">numberOfThreads</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">group</span><span class="o">.</span><span class="nf">makeIterator</span><span class="p">()?</span><span class="o">.</span><span class="n">forEach</span> <span class="p">{</span> <span class="n">loop</span> <span class="k">in</span>
    <span class="c1">// Do something with each loop</span>
<span class="p">}</span>
</code></pre>

                        <a href="Structs/EventLoopIterator.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">EventLoopIterator</span> <span class="p">:</span> <span class="kt">Sequence</span><span class="p">,</span> <span class="kt">IteratorProtocol</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO10TimeAmountV"></a>
                    <a name="//apple_ref/swift/Struct/TimeAmount" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO10TimeAmountV">TimeAmount</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Represents a time <em>interval</em>.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <code>TimeAmount</code> should not be used to represent a point in time.

</div>

                        <a href="Structs/TimeAmount.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">TimeAmount</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO16EventLoopPromiseV"></a>
                    <a name="//apple_ref/swift/Struct/EventLoopPromise" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO16EventLoopPromiseV">EventLoopPromise</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A promise to provide a result later.</p>

<p>This is the provider API for <code><a href="Classes/EventLoopFuture.html">EventLoopFuture&lt;T&gt;</a></code>. If you want to return an
unfulfilled <code><a href="Classes/EventLoopFuture.html">EventLoopFuture&lt;T&gt;</a></code> &ndash; presumably because you are interfacing to
some asynchronous service that will return a real result later, follow this
pattern:</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">someAsyncOperation</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">ResultType</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">promise</span> <span class="o">=</span> <span class="n">eventLoop</span><span class="o">.</span><span class="nf">newPromise</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="kt">ResultType</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
    <span class="nf">someAsyncOperationWithACallback</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
        <span class="c1">// when finished...</span>
        <span class="n">promise</span><span class="o">.</span><span class="nf">succeed</span><span class="p">(</span><span class="nv">result</span><span class="p">:</span> <span class="n">result</span><span class="p">)</span>
        <span class="c1">// if error...</span>
        <span class="n">promise</span><span class="o">.</span><span class="nf">fail</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="n">error</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">promise</span><span class="o">.</span><span class="n">futureResult</span>
<span class="p">}</span>
</code></pre>

<p>Note that the future result is returned before the async process has provided a value.</p>

<p>It&rsquo;s actually not very common to use this directly. Usually, you really want one
of the following:</p>
<li>If you have an <code><a href="Classes/EventLoopFuture.html">EventLoopFuture</a></code> and want to do something else after it completes,
use <code>.then()</code></li>
<li>If you just want to get a value back after running something on another thread,
use <code>EventLoopFuture&lt;ResultType&gt;.async()</code></li>
<li><p>If you already have a value and need an <code><a href="Classes/EventLoopFuture.html">EventLoopFuture&lt;&gt;</a></code> object to plug into
some other API, create an already-resolved object with <code>eventLoop.newSucceededFuture(result)</code>
or <code>eventLoop.newFailedFuture(error:)</code>.</p></li>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p><code>EventLoopPromise</code> has reference semantics.</p>

</div>

                        <a href="Structs/EventLoopPromise.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">EventLoopPromise</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO10FileRegionV"></a>
                    <a name="//apple_ref/swift/Struct/FileRegion" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO10FileRegionV">FileRegion</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>FileRegion</code> represent a readable portion usually created to be sent over the network.</p>

<p>Usually a <code>FileRegion</code> will allow the underlying transport to use <code>sendfile</code> to transfer its content and so allows transferring
the file content without copying it into user-space at all. If the actual transport implementation really can make use of sendfile
or if it will need to copy the content to user-space first and use <code>write</code> / <code>writev</code> is an implementation detail. That said
 using <code>FileRegion</code> is the recommended way to transfer file content if possible.</p>

<p>One important note, depending your <code><a href="Classes/ChannelPipeline.html">ChannelPipeline</a></code> setup it may not be possible to use a <code>FileRegion</code> as a <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code> may
need access to the bytes (in a <code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code>) to transform these.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    It is important to manually manage the lifetime of the <code><a href="Classes/FileHandle.html">FileHandle</a></code> used to create a <code>FileRegion</code>.

</div>

                        <a href="Structs/FileRegion.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">FileRegion</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO23SingleConnectionFailureV"></a>
                    <a name="//apple_ref/swift/Struct/SingleConnectionFailure" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO23SingleConnectionFailureV">SingleConnectionFailure</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An error that occurred during connection to a given target.</p>

                        <a href="Structs/SingleConnectionFailure.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">SingleConnectionFailure</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO18NIOConnectionErrorV"></a>
                    <a name="//apple_ref/swift/Struct/NIOConnectionError" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO18NIOConnectionErrorV">NIOConnectionError</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A representation of all the errors that happened during an attempt to connect
to a given host and port.</p>

                        <a href="Structs/NIOConnectionError.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">NIOConnectionError</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO7IOErrorV"></a>
                    <a name="//apple_ref/swift/Struct/IOError" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO7IOErrorV">IOError</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An <code>Error</code> for an IO operation.</p>

                        <a href="Structs/IOError.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">IOError</span> <span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO20MarkedCircularBufferV"></a>
                    <a name="//apple_ref/swift/Struct/MarkedCircularBuffer" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO20MarkedCircularBufferV">MarkedCircularBuffer</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A circular buffer that allows one object at a time to be <q>marked</q> and easily identified and retrieved later.</p>

<p>This object is used extensively within SwiftNIO to handle flushable buffers. It can be used to store buffered
writes and mark how far through the buffer the user has flushed, and therefore how far through the buffer is
safe to write.</p>

                        <a href="Structs/MarkedCircularBuffer.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">MarkedCircularBuffer</span><span class="o">&lt;</span><span class="kt">E</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">CustomStringConvertible</span><span class="p">,</span> <span class="kt"><a href="Protocols/AppendableCollection.html">AppendableCollection</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO6NIOAnyV"></a>
                    <a name="//apple_ref/swift/Struct/NIOAny" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO6NIOAnyV">NIOAny</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>NIOAny</code> is an opaque container for values of <em>any</em> type, similar to Swift&rsquo;s builtin <code>Any</code> type. Contrary to
<code>Any</code> the overhead of <code>NIOAny</code> depends on the the type of the wrapped value. Certain types that are important
for the performance of a SwiftNIO application like <code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code>, <code><a href="Structs/FileRegion.html">FileRegion</a></code> and <code>AddressEnvelope&lt;ByteBuffer&gt;</code> can be expected
to be wrapped almost without overhead. All others will have similar performance as if they were passed as an <code>Any</code> as
<code>NIOAny</code> just like <code>Any</code> will contain them within an existential container.</p>

<p>The most important use-cases for <code>NIOAny</code> are values travelling through the <code><a href="Classes/ChannelPipeline.html">ChannelPipeline</a></code> whose type can&rsquo;t
be calculated at compile time. For example:</p>

<ul>
<li>the <code>channelRead</code> of any <code><a href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a></code></li>
<li>the <code>write</code> method of a <code><a href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a></code></li>
</ul>

<p>The abstraction that delivers a <code>NIOAny</code> to user code must provide a mechanism to unwrap a <code>NIOAny</code> as a
certain type known at run-time. Canonical example:</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">SandwichHandler</span><span class="p">:</span> <span class="kt">ChannelInboundHandler</span> <span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">InboundIn</span> <span class="o">=</span> <span class="kt">Bacon</span> <span class="cm">/* we expected to be delivered `Bacon` ... */</span>
    <span class="kd">typealias</span> <span class="kt">InboundOut</span> <span class="o">=</span> <span class="kt">Sandwich</span> <span class="cm">/* ... and we will make and deliver a `Sandwich` from that */</span>

    <span class="kd">func</span> <span class="nf">channelRead</span><span class="p">(</span><span class="nv">ctx</span><span class="p">:</span> <span class="kt">ChannelHandlerContext</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="kt">NIOAny</span><span class="p">)</span> <span class="p">{</span>
         <span class="cm">/* we receive the `Bacon` as a `NIOAny` as at compile-time the exact configuration of the channel
            pipeline can't be computed. The pipeline can't be computed at compile time as it can change
            dynamically at run-time. Yet, we assert that in any configuration the channel handler before
            `SandwichHandler` does actually send us a stream of `Bacon`.
         */</span>
         <span class="k">let</span> <span class="nv">bacon</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="nf">unwrapInboundIn</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="cm">/* `Bacon` or crash */</span>
         <span class="k">let</span> <span class="nv">sandwich</span> <span class="o">=</span> <span class="nf">makeSandwich</span><span class="p">(</span><span class="n">bacon</span><span class="p">)</span>
         <span class="n">ctx</span><span class="o">.</span><span class="nf">fireChannelRead</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="nf">wrapInboundOut</span><span class="p">(</span><span class="n">sandwich</span><span class="p">))</span> <span class="cm">/* as promised we deliver a wrapped `Sandwich` */</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

                        <a href="Structs/NIOAny.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">NIOAny</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO17NonBlockingFileIOV"></a>
                    <a name="//apple_ref/swift/Struct/NonBlockingFileIO" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO17NonBlockingFileIOV">NonBlockingFileIO</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>NonBlockingFileIO</code> is a helper that allows you to read files without blocking the calling thread.</p>

<p>It is worth noting that <code>kqueue</code>, <code>epoll</code> or <code>poll</code> returning claiming a file is readable does not mean that the
data is already available in the kernel&rsquo;s memory. In other words, a <code>read</code> from a file can still block even if
reported as readable. This behaviour is also documented behaviour:</p>

<ul>
<li><a href="http://pubs.opengroup.org/onlinepubs/009695399/functions/poll.html"><code>poll</code></a>: <q>Regular files shall always poll TRUE for reading and writing.</q></li>
<li><a href="http://man7.org/linux/man-pages/man7/epoll.7.html"><code>epoll</code></a>: <q>epoll is simply a faster poll(2), and can be used wherever the latter is used since it shares the same semantics.</q></li>
<li><a href="https://www.freebsd.org/cgi/man.cgi?query=kqueue&sektion=2"><code>kqueue</code></a>: <q>Returns when the file pointer is not at the end of file.</q></li>
</ul>

<p><code>NonBlockingFileIO</code> helps to work around this issue by maintaining its own thread pool that is used to read the data
from the files into memory. It will then hand the (in-memory) data back which makes it available without the possibility
of blocking.</p>

                        <a href="Structs/NonBlockingFileIO.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">NonBlockingFileIO</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO32FixedSizeRecvByteBufferAllocatorV"></a>
                    <a name="//apple_ref/swift/Struct/FixedSizeRecvByteBufferAllocator" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO32FixedSizeRecvByteBufferAllocatorV">FixedSizeRecvByteBufferAllocator</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code><a href="Protocols/RecvByteBufferAllocator.html">RecvByteBufferAllocator</a></code> which will always return a <code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code> with the same fixed size no matter what was recorded.</p>

                        <a href="Structs/FixedSizeRecvByteBufferAllocator.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">FixedSizeRecvByteBufferAllocator</span> <span class="p">:</span> <span class="kt"><a href="Protocols/RecvByteBufferAllocator.html">RecvByteBufferAllocator</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO31AdaptiveRecvByteBufferAllocatorV"></a>
                    <a name="//apple_ref/swift/Struct/AdaptiveRecvByteBufferAllocator" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO31AdaptiveRecvByteBufferAllocatorV">AdaptiveRecvByteBufferAllocator</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code><a href="Protocols/RecvByteBufferAllocator.html">RecvByteBufferAllocator</a></code> which will gracefully increment or decrement the buffer size on the feedback that was recorded.</p>

                        <a href="Structs/AdaptiveRecvByteBufferAllocator.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">AdaptiveRecvByteBufferAllocator</span> <span class="p">:</span> <span class="kt"><a href="Protocols/RecvByteBufferAllocator.html">RecvByteBufferAllocator</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3NIO22ThreadSpecificVariableV"></a>
                    <a name="//apple_ref/swift/Struct/ThreadSpecificVariable" class="dashAnchor"></a>
                    <a class="token" href="#/s:3NIO22ThreadSpecificVariableV">ThreadSpecificVariable</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>ThreadSpecificVariable</code> is a variable that can be read and set like a normal variable except that it holds
different variables per thread.</p>

<p><code>ThreadSpecificVariable</code> is thread-safe so it can be used with multiple threads at the same time but the value
returned by <code>currentValue</code> is defined per thread.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <code>ThreadSpecificVariable</code> has reference semantics.

</div>

                        <a href="Structs/ThreadSpecificVariable.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ThreadSpecificVariable</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">T</span> <span class="p">:</span> <span class="kt">AnyObject</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="https://github.com/apple/swift-nio" target="_blank" rel="external">SwiftNIO Team</a>. All rights reserved. (Last updated: 2019-04-15)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
